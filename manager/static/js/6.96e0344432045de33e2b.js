webpackJsonp([6],{"+m95":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("Dd8w"),a=s.n(i),n=s("NYxO"),o={data:function(){return{userName:"",userPwd:"",userPwd1:"",showAlert:!1,dialogVisible:!1,dialogVisible1:!1,inputAlert:"",userAccount:"",oldPwdVal:"",inputOldPwd:"",inputOldPwd1:"",alertOldPwd:"你输入的密码有误,请从新输入"}},computed:a()({},Object(n.b)(["managerList","checkName","managerAdd","delBool","oldPwd","oldPwdAlert","successPwd"])),mounted:function(){this.$store.dispatch("queryManagerList")},watch:{checkName:function(t){t&&(this.inputAlert="你输入的用户名称,已存在请重新输入!!!",this.showAlert=!0,this.userName="",this.$store.commit("check_name_bool",!1))},managerAdd:function(t){t&&(this.dialogVisible=!1,this.open(),this.$store.dispatch("queryManagerList"))},delBool:function(t){t&&this.$store.dispatch("queryManagerList")},oldPwdAlert:function(t){var e=this;t&&setTimeout(function(){e.$store.commit("change_old_bool",!1),e.alertOldPwd="你输入的密码有误,请从新输入"},2e3)},successPwd:function(t){t&&(this.dialogVisible1=!1,this.open())}},methods:{focus1:function(){this.inputOldPwd!==this.inputOldPwd1&&(this.alertOldPwd="第二次输入的密码与第一次不符合，请重新输入",this.$store.commit("change_old_bool",!0),this.inputOldPwd1="")},update:function(){console.log("123445");var t=this.inputOldPwd,e=this.inputOldPwd1;if(""===t||""===e)return this.alertOldPwd="新密码或确认密码不可为空，输入后在提交",void this.$store.commit("change_old_bool",!0);var s={userAccount:this.userAccount,userPassword:t};this.$store.dispatch("updateManagerPwd",s)},send:function(){var t=this.userAccount,e=this.oldPwdVal;if(""===this.oldPwdVal)return this.alertOldPwd="密码不可为空，输入后在提交",void this.$store.commit("change_old_bool",!0);this.inputOldPwd="",this.inputOldPwd1="",this.$store.dispatch("checkOldPwd",{userAccount:t,userPwd:e})},focus:function(){var t=this;if(""!==this.userName){var e=this.userName;this.$store.dispatch("checkManagerName",{managerName:e})}else""!=this.userPwd1&&this.userPwd!=this.userPwd1&&(this.showAlert=!0,this.inputAlert="第二次输入的密码与第一次不一致");setTimeout(function(){t.showAlert=!1,t.inputAlert=""},2e3)},handleClose:function(t){this.$confirm("确认关闭？").then(function(e){t()}).catch(function(t){})},addManagerAccount:function(){this.userName="",this.userPwd="",this.userPwd1="",this.dialogVisible=!0},ManagerAccountPwdUpadte:function(t,e){this.$store.commit("change_old_pwd",!1),this.$store.commit("change_success_pwd",!1),this.oldPwdVal="",this.userAccount=e.userAccount,this.dialogVisible1=!0},ManagerAccountDelete:function(t,e){this.$store.commit("check_del_bool",!1),this.deleteAlert(e)},deleteAlert:function(t){var e=this;this.$confirm("你确定要移除该管理员吗","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var s=t.userAccount;e.$store.dispatch("delManagerByName",{managerName:s}),e.$message({type:"success",message:"删除成功!"})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},open:function(){this.$message({message:"恭喜你，操作成功",type:"success"})},submit:function(){var t=this;if(""===this.userName)return this.showAlert=!0,this.inputAlert="用户名不可为空，请输入后在提交",void setTimeout(function(){t.showAlert=!1,t.inputAlert=""},2e3);if(""===this.userPwd)return this.showAlert=!0,this.inputAlert="用户密码不可为空，请输入后在提交",void setTimeout(function(){t.showAlert=!1,t.inputAlert=""},2e3);if(""===this.userPwd1)return this.showAlert=!0,this.inputAlert="用户第二次密码不可为空，请输入后在提交",void setTimeout(function(){t.showAlert=!1,t.inputAlert=""},2e3);var e=this.util.dateFormat(new Date),s={userAccount:this.userName,userPassword:this.userPwd,establishDate:e};this.$store.commit("change_addbool",!1),this.$store.dispatch("managerUserRegister",s)}}},l={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"settingManager"},[s("el-table",{staticStyle:{width:"80%"},attrs:{data:t.managerList}},[s("el-table-column",{attrs:{prop:"establishDate",label:"日期",sortable:"",width:"150"}}),t._v(" "),s("el-table-column",{attrs:{prop:"userAccount",label:"姓名",sortable:"",width:"150"}}),t._v(" "),s("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.addManagerAccount}},[t._v("添加账号")]),t._v(" "),s("el-button",{attrs:{size:"mini"},on:{click:function(s){return t.ManagerAccountPwdUpadte(e.$index,e.row)}}},[t._v("修改密码")]),t._v(" "),s("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(s){return t.ManagerAccountDelete(e.$index,e.row)}}},[t._v("移除账号")])]}}])})],1),t._v(" "),s("el-dialog",{attrs:{title:"添加管理员账号",visible:t.dialogVisible,width:"45%","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[s("div",{staticClass:"inputVal"},[t.showAlert?s("span",{staticClass:"inputUserName"},[t._v(t._s(t.inputAlert))]):t._e(),t._v(" "),s("div",{staticClass:"input1"},[t._v("\n        用户名称："),s("input",{directives:[{name:"model",rawName:"v-model",value:t.userName,expression:"userName"}],staticClass:"inputText1",attrs:{type:"text",placeholder:"请输入用户名"},domProps:{value:t.userName},on:{blur:t.focus,input:function(e){e.target.composing||(t.userName=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"input2"},[t._v("\n        用户密码："),s("input",{directives:[{name:"model",rawName:"v-model",value:t.userPwd,expression:"userPwd"}],staticClass:"inputText1",attrs:{type:"password",placeholder:"请输入用户密码"},domProps:{value:t.userPwd},on:{input:function(e){e.target.composing||(t.userPwd=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"input3"},[t._v("\n        确认密码："),s("input",{directives:[{name:"model",rawName:"v-model",value:t.userPwd1,expression:"userPwd1"}],staticClass:"inputText1",attrs:{type:"password",placeholder:"请再次输入用户密码"},domProps:{value:t.userPwd1},on:{blur:t.focus,input:function(e){e.target.composing||(t.userPwd1=e.target.value)}}})])]),t._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("注 册")])],1)]),t._v(" "),s("el-dialog",{attrs:{title:"请输入旧密码",visible:t.dialogVisible1,width:"45%","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible1=e}}},[s("div",{staticClass:"inputVal"},[t.showAlert?s("span",{staticClass:"inputUserName"},[t._v(t._s(t.inputAlert))]):t._e(),t._v(" "),t.oldPwdAlert?s("span",{staticClass:"oldPwdAlert"},[t._v(t._s(t.alertOldPwd))]):t._e(),t._v(" "),t.oldPwd?s("div",[s("div",{staticClass:"input2"},[t._v("\n          用户密码："),s("input",{directives:[{name:"model",rawName:"v-model",value:t.inputOldPwd,expression:"inputOldPwd"}],staticClass:"inputText1",attrs:{type:"password",placeholder:"请输入用户密码"},domProps:{value:t.inputOldPwd},on:{input:function(e){e.target.composing||(t.inputOldPwd=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"input3"},[t._v("\n          确认密码："),s("input",{directives:[{name:"model",rawName:"v-model",value:t.inputOldPwd1,expression:"inputOldPwd1"}],staticClass:"inputText1",attrs:{type:"password",placeholder:"请再次输入用户密码"},domProps:{value:t.inputOldPwd1},on:{blur:t.focus1,input:function(e){e.target.composing||(t.inputOldPwd1=e.target.value)}}})])]):s("div",[s("div",{staticClass:"input1"},[t._v("\n         密码："),s("input",{directives:[{name:"model",rawName:"v-model",value:t.oldPwdVal,expression:"oldPwdVal"}],staticClass:"inputText1",attrs:{type:"password",placeholder:"请输入旧密码"},domProps:{value:t.oldPwdVal},on:{input:function(e){e.target.composing||(t.oldPwdVal=e.target.value)}}})])])]),t._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t.oldPwd?s("el-button",{attrs:{type:"primary"},on:{click:t.update}},[t._v("修 改")]):s("el-button",{attrs:{type:"primary"},on:{click:t.send}},[t._v("下一步")])],1)])],1)},staticRenderFns:[]};var r={components:{Manager:s("VU/8")(o,l,!1,function(t){s("mqmB")},null,null).exports}},u={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("Manager")],1)},staticRenderFns:[]};var d=s("VU/8")(r,u,!1,function(t){s("hLXm")},null,null);e.default=d.exports},hLXm:function(t,e){},mqmB:function(t,e){}});
//# sourceMappingURL=6.96e0344432045de33e2b.js.map